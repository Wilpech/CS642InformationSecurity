So I didn't actually get this one because I can't do the math. Basically what is supposed to happen is that we are supposed to be exploiting the MAX_WIDGETS function. More specifically the way that it operates with memcpy() occurs. Basically what I was trying to do was to create a buffer that was the perfect size of the max buffer size, and then inject code into it like I have done for all of the previous targets but this one is tricky. Its a lot more math, I know the max this buffer can hold is 3200 bits. The key here is the count, and I am so stuck on the number. When you add it into the program this number gets tossed around a bunch between methods.
Its supposed to be interpreted as a negative number so that when it is given to foo and is passed ot MAXWIDGETS it can be multiplied by 20 when used by memcpy(), this will then alter the number somehow and we will end up with the exact size of my buffer that I want copied and from there we can copy it over and the code will be executed and the shellcode will come up. I know its all or nothing so this really bites because I am so close, I think, but I can't figure out the count number and I know that is the key.